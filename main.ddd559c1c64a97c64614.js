(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function r(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(r)?r:String(r)}var o=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_showInputError",(function(e,t){var r=o._formElement.querySelector(".form__item-error_el_".concat(e.name));e.classList.add(o._inputErrorClass),r.textContent=t,r.classList.add(o._errorClass)})),r(this,"_hideInputError",(function(e){var t=o._formElement.querySelector(".form__item-error_el_".concat(e.name));e.classList.remove(o._inputErrorClass),t.classList.remove(o._errorClass),t.textContent=""})),r(this,"_checkInputValidity",(function(e){e.validity.valid?o._hideInputError(e):o._showInputError(e,e.validationMessage)})),r(this,"_hasInvalidInput",(function(){return o._inputList.some((function(e){return!e.validity.valid}))})),r(this,"_toggleButtonState",(function(){o._hasInvalidInput(o._inputList)?o.disableSubmitButton():(o._buttonElement.classList.remove(o._inactiveButton),o._buttonElement.removeAttribute("disabled"))})),r(this,"_setEventListeners",(function(){o._inputList=Array.from(o._formElement.querySelectorAll(o._inputSelector)),o._buttonElement=o._formElement.querySelector(o._submitButtonSelector),o._toggleButtonState(),o._inputList.forEach((function(e){e.addEventListener("input",(function(t){t.preventDefault(),o._checkInputValidity(e),o._toggleButtonState()}))}))})),r(this,"disableSubmitButton",(function(){o._buttonElement.classList.add(o._inactiveButton),o._buttonElement.setAttribute("disabled","disabled")})),r(this,"enableValidation",(function(){o._setEventListeners()})),this.config=t,this._formElement=n,this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButton=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass}var n,o;return n=e,(o=[{key:"resetValidation",value:function(){var e=this;this._formElement.reset(),this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&t(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===i(o)?o:String(o)),n)}var o}var u=function(){function e(t,r,n){var o=n.handleCardClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._cardTemplate=r,this._handleCardClick=o}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return this._cardTemplate.cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardImg=this._element.querySelector(".card__img"),this._cardTitle=this._element.querySelector(".card__title"),this._cardTrash=this._element.querySelector(".card__trash"),this._cardLike=this._element.querySelector(".card__like"),this._cardTitle.textContent=this._name,this._cardImg.src=this._link,this._cardImg.alt=this._name,this._setEventListener(),this._element}},{key:"_setEventListener",value:function(){var e=this;this._cardTrash.addEventListener("click",(function(){e._element.remove(),e._element=null})),this._cardLike.addEventListener("click",(function(e){e.target.classList.toggle("card__like_active")})),this._cardImg.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const l=u;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===a(o)?o:String(o)),n)}var o}var f=function(){function e(t,r){var n=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=n,this._renderer=o,this._container=r}var t,r;return t=e,(r=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var e=this;this.clear(),this._renderedItems.forEach((function(t){e._renderer(t)}))}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const p=f;function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===m(t)?t:String(t)}const _=function(){function e(t){var r,n,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=function(e){"Escape"===e.key&&i.close()},(n=d(n="_closedPopUpEsc"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._popup=document.querySelector(t),this._closedPopUpEsc=this._closedPopUpEsc.bind(this)}var t,r;return t=e,(r=[{key:"open",value:function(){this._popup.classList.add("pop-up_active"),document.addEventListener("keydown",this._closedPopUpEsc)}},{key:"close",value:function(){this._popup.classList.remove("pop-up_active"),document.removeEventListener("keydown",this._closedPopUpEsc)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){t.target.classList.contains("pop-up_active")&&e.close(),t.target.classList.contains("pop-up__close")&&e.close()}))}}])&&y(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===v(o)?o:String(o)),n)}var o}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},h.apply(this,arguments)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}const w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(n);if(o){var r=g(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e))._popUpImg=n._popup.querySelector(t),n._popUpTitleImg=n._popup.querySelector(r),n}return t=c,(r=[{key:"open",value:function(e,t){this._popUpTitleImg.textContent=e,this._popUpImg.src=t,this._popUpImg.alt=e,h(g(c.prototype),"open",this).call(this)}}])&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(_);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===E(o)?o:String(o)),n)}var o}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},j.apply(this,arguments)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(n);if(o){var r=O(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e,t,r,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(o=i.call(this,e))._formElement=o._popup.querySelector(t),o._callbackSubmitForm=n,o._input=r,o._inputList=o._formElement.querySelectorAll(o._input),o}return t=c,(r=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;j(O(c.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._callbackSubmitForm(e._getInputValues()),e.close()}))}},{key:"close",value:function(){j(O(c.prototype),"close",this).call(this),this._formElement.reset()}}])&&k(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(_);const C=L;function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}const T=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t),this._info=document.querySelector(r)}var t,r;return t=e,(r=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,info:this._info.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,r=e.info;this._name.textContent=t,this._info.textContent=r}}])&&I(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var B=document.querySelector(".card-template").content.querySelector(".card"),x=document.querySelector(".cards"),R=(document.querySelectorAll(".pop-up"),document.querySelector(".pop-up_place_add-place")),U=document.querySelector(".profile__add-button"),V=(document.querySelector(".form"),".form__item"),A=R.querySelector(".form_place_add-place"),D=(A.querySelector(".form__item_el_name"),A.querySelector(".form__item_el_link"),document.querySelector(".form_place_edit-profile")),F=D.querySelector(".form__item_el_name"),M=D.querySelector(".form__item_el_info"),z=(document.querySelector(".pop-up_place_profile"),document.querySelector(".profile")),H=(z.querySelector(".profile__name"),z.querySelector(".profile__info"),z.querySelector(".profile__edit-button")),N=(document.querySelector(".pop-up_place_img"),function(e){var t=e.name,r=e.link,n=new l({name:t,link:r},B,{handleCardClick:function(e,t){J.open(e,t)}});return n.generateCard()}),G=new p({data:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(e){var t=N({name:e.name,link:e.link});G.addItem(t)}},x);G.renderItems();var J=new w(".pop-up_place_img",".pop-up__img",".pop-up__title-img");J.setEventListeners();var K=new C(".pop-up_place_add-place",".form_place_add-place",V,(function(e){var t=N({name:e.place,link:e.link});G.addItem(t),K.close(),Y["add-place"].resetValidation()}));K.setEventListeners();var Q=new C(".pop-up_place_profile",".form_place_edit-profile",V,(function(e){Y["edit-profile"].disableSubmitButton(),W.setUserInfo(e),Q.close()}));Q.setEventListeners();var W=new T(".profile__name",".profile__info");H.addEventListener("click",(function(){var e=W.getUserInfo();F.value=e.name,M.value=e.info,Q.open()})),U.addEventListener("click",(function(){K.open()}));var X,Y={};X={formSelector:".form",inputSelector:".form__item",submitButtonSelector:".pop-up__button",inactiveButtonClass:"pop-up__button_disabled",inputErrorClass:"form__item_invalid",errorClass:"form__item-error"},Array.from(document.querySelectorAll(X.formSelector)).forEach((function(e){var t=new o(X,e),r=e.getAttribute("name");Y[r]=t,t.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y0FBZSxjQUNmQyxxQkFBc0Isa0JBQ3RCQyxvQkFBcUIsMEJBQ3JCQyxnQkFBaUIscUJBQ2pCQyxXQUFZLG9CQ2tGS3BCLE1BQU1DLEtBQUs2RCxTQUFTNUQsaUJBQWlCaEMsRUFBTzZDLGVBQ3BEVCxTQUFRLFNBQUNuQyxHQUNoQixJQUFNd0osRUFBWSxJQUFJMUosRUFBY0MsRUFBUUMsR0FDdEN5SixFQUFXekosRUFBWTBKLGFBQWEsUUFFMUNWLEVBQWVTLEdBQVlELEVBQzNCQSxFQUFVRyxrQkFDWixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLXdlYnBhY2svLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9zY3JpcHRzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGNvbmZpZy5mb3JtU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuZm9ybV9faXRlbS1lcnJvcl9lbF8ke2lucHV0RWxlbWVudC5uYW1lfWApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC5mb3JtX19pdGVtLWVycm9yX2VsXyR7aW5wdXRFbGVtZW50Lm5hbWV9YCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICB9O1xyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcclxuICAgICAgdGhpcy5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b24pO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG5cclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgZGlzYWJsZVN1Ym1pdEJ1dHRvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbik7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICB9O1xyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9O1xyXG59XHJcbiIsImNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRUZW1wbGF0ZSwgeyBoYW5kbGVDYXJkQ2xpY2sgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBjYXJkVGVtcGxhdGU7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkVGVtcGxhdGUgPSB0aGlzLl9jYXJkVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgcmV0dXJuIGNhcmRUZW1wbGF0ZTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fY2FyZEltZyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltZycpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdGl0bGUnKTtcclxuICAgIHRoaXMuX2NhcmRUcmFzaCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3RyYXNoJyk7XHJcbiAgICB0aGlzLl9jYXJkTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UnKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1nLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1nLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xyXG4gICAgdGhpcy5fY2FyZFRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fY2FyZExpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcclxuIiwiY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBkYXRhLCByZW5kZXJlciB9LCBjYXJkc0NvbnRhaW5lcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGRhdGE7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gY2FyZHNDb250YWluZXI7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuY2xlYXIoKTtcclxuXHJcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247XHJcbiIsImNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZWRQb3BVcEVzYyA9IHRoaXMuX2Nsb3NlZFBvcFVwRXNjLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wLXVwX2FjdGl2ZScpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2Nsb3NlZFBvcFVwRXNjKTtcclxuICB9XHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3AtdXBfYWN0aXZlJyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xvc2VkUG9wVXBFc2MpO1xyXG4gIH1cclxuXHJcbiAgX2Nsb3NlZFBvcFVwRXNjID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcC11cF9hY3RpdmUnKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcC11cF9fY2xvc2UnKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgcG9wVXBJbWdTZWxlY3RvciwgcG9wVXBUaXRsZUltZ1NlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcFVwSW1nID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3Rvcihwb3BVcEltZ1NlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcFVwVGl0bGVJbWcgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHBvcFVwVGl0bGVJbWdTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgIHRoaXMuX3BvcFVwVGl0bGVJbWcudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcG9wVXBJbWcuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3BvcFVwSW1nLmFsdCA9IG5hbWU7XHJcblxyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgZm9ybVNlbGVjdG9yLCBpbnB1dFNlbGVjdG9yLCBjYWxsYmFja1N1Ym1pdEZvcm0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3Rvcihmb3JtU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY2FsbGJhY2tTdWJtaXRGb3JtID0gY2FsbGJhY2tTdWJtaXRGb3JtO1xyXG4gICAgdGhpcy5faW5wdXQgPSBpbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dCk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2NhbGxiYWNrU3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuXHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTtcclxuIiwiY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKG5hbWVTZWxlY3RvciwgaW5mb1NlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5mb1NlbGVjdG9yKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBpbmZvOiB0aGlzLl9pbmZvLnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBpbmZvIH0pIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5faW5mby50ZXh0Q29udGVudCA9IGluZm87XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VySW5mbztcclxuIiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZycsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnJyxcclxuICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLmZvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faXRlbScsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wLXVwX19idXR0b24nLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3AtdXBfX2J1dHRvbl9kaXNhYmxlZCcsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faXRlbV9pbnZhbGlkJyxcclxuICBlcnJvckNsYXNzOiAnZm9ybV9faXRlbS1lcnJvcicsXHJcbn07XHJcblxyXG4vLyBDQVJEUyAvL1xyXG5leHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmQtdGVtcGxhdGUnKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkTGlzdFNlbGVjdG9yID0gJy5jYXJkcyc7XHJcbmV4cG9ydCBjb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkcycpO1xyXG5leHBvcnQgY29uc3QgcG9wVXBMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcC11cCcpO1xyXG5cclxuLy8gUE9QLVVQIC8vIFBMQUNFIC8vXHJcbmV4cG9ydCBjb25zdCBwb3B1cFNlbGVjdG9yID0gJy5wb3AtdXAnO1xyXG5leHBvcnQgY29uc3QgcG9wdXBQbGFjZVNlbGVjdG9yID0gJy5wb3AtdXBfcGxhY2VfYWRkLXBsYWNlJztcclxuZXhwb3J0IGNvbnN0IHBvcFVwUGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wLXVwX3BsYWNlX2FkZC1wbGFjZScpO1xyXG5leHBvcnQgY29uc3QgYnRuUGxhY2VBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgYnRuUGxhY2VBZGRTZWxlY3RvciA9ICcucHJvZmlsZV9fYWRkLWJ1dHRvbic7XHJcbmV4cG9ydCBjb25zdCBmb3JtU2VsZWN0b3IgPSAnLmZvcm0nO1xyXG5leHBvcnQgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XHJcbmV4cG9ydCBjb25zdCBpbnB1dFNlbGVjdG9yID0gJy5mb3JtX19pdGVtJztcclxuLy8gRk9STSAvLyBQTEFDRSAvL1xyXG5leHBvcnQgY29uc3QgcGxhY2VGb3JtU2VsZWN0b3IgPSAnLmZvcm1fcGxhY2VfYWRkLXBsYWNlJztcclxuZXhwb3J0IGNvbnN0IHBsYWNlRm9ybSA9IHBvcFVwUGxhY2UucXVlcnlTZWxlY3RvcignLmZvcm1fcGxhY2VfYWRkLXBsYWNlJyk7XHJcbmV4cG9ydCBjb25zdCBwbGFjZUlucHV0TmFtZSA9IHBsYWNlRm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faXRlbV9lbF9uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBwbGFjZUlucHV0TGluayA9IHBsYWNlRm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faXRlbV9lbF9saW5rJyk7XHJcblxyXG4vLyBGT1JNIC8vIFBST0ZJTEUgLy9cclxuZXhwb3J0IGNvbnN0IGZvcm1TZWxlY3RvclByb2ZpbGUgPSAnLmZvcm1fcGxhY2VfZWRpdC1wcm9maWxlJztcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fcGxhY2VfZWRpdC1wcm9maWxlJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlSW5wdXROYW1lID0gcHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX2l0ZW1fZWxfbmFtZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUlucHV0SW5mbyA9IHByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pdGVtX2VsX2luZm8nKTtcclxuXHJcbi8vIFBPUC1VUCAvLyBQUk9GSUxFIC8vXHJcbmV4cG9ydCBjb25zdCBwb3BVcFByb2ZpbGVTZWxlY3RvciA9ICcucG9wLXVwX3BsYWNlX3Byb2ZpbGUnO1xyXG5leHBvcnQgY29uc3QgcG9wVXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcC11cF9wbGFjZV9wcm9maWxlJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUluZm8gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbmZvJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZVNlbGVjdG9yID0gJy5wcm9maWxlX19uYW1lJztcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVJbmZvU2VsZWN0b3IgPSAnLnByb2ZpbGVfX2luZm8nO1xyXG5cclxuLy8gQlROLUVESVQgLy8gUFJPRklMRVxyXG5cclxuZXhwb3J0IGNvbnN0IGJ0bkVkaXRQcm9maWxlID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IGJ0bkVkaXRQcm9maWxlU2VsZWN0b3IgPSAnLnByb2ZpbGVfX2VkaXQtYnV0dG9uJztcclxuLy8gUE9QLVVQIC8vIElNRyAvL1xyXG5cclxuZXhwb3J0IGNvbnN0IHBvcFVwUGxhY2VJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wLXVwX3BsYWNlX2ltZycpO1xyXG5leHBvcnQgY29uc3QgcG9wVXBJbWdTZWxlY3RvciA9ICcucG9wLXVwX19pbWcnO1xyXG5leHBvcnQgY29uc3QgcG9wVXBUaXRsZUltZ1NlbGVjdG9yID0gJy5wb3AtdXBfX3RpdGxlLWltZyc7XHJcbiIsImltcG9ydCAnLi4vcGFnZXMvaW5kZXguY3NzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCB7XHJcbiAgaW5pdGlhbENhcmRzLFxyXG4gIGZvcm1Db25maWcsXHJcbiAgcG9wVXBQcm9maWxlU2VsZWN0b3IsXHJcbiAgcG9wdXBQbGFjZVNlbGVjdG9yLFxyXG4gIHBsYWNlRm9ybVNlbGVjdG9yLFxyXG4gIGZvcm1TZWxlY3RvclByb2ZpbGUsXHJcbiAgaW5wdXRTZWxlY3RvcixcclxuICBjYXJkVGVtcGxhdGUsXHJcbiAgY2FyZHNDb250YWluZXIsXHJcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcixcclxuICBwcm9maWxlSW5mb1NlbGVjdG9yLFxyXG4gIGJ0blBsYWNlQWRkLFxyXG4gIHBsYWNlSW5wdXROYW1lLFxyXG4gIHBsYWNlSW5wdXRMaW5rLFxyXG4gIHByb2ZpbGVJbnB1dE5hbWUsXHJcbiAgcHJvZmlsZUlucHV0SW5mbyxcclxuICBidG5FZGl0UHJvZmlsZSxcclxuICBwb3BVcEltZ1NlbGVjdG9yLFxyXG4gIHBvcFVwVGl0bGVJbWdTZWxlY3RvcixcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5cclxuLy8gRlVOQ1RJT049PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gUFJPRklMRSAtIGZ1bmNcclxuXHJcbmNvbnN0IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0ID0gKHVzZXJEYXRhKSA9PiB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbJ2VkaXQtcHJvZmlsZSddLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuXHJcbiAgdXNlclByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcclxuXHJcbiAgZm9ybVByb2ZpbGUuY2xvc2UoKTtcclxufTtcclxuXHJcbi8vIFBMQUNFIC1mdW5jXHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoeyBuYW1lLCBsaW5rIH0pID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoeyBuYW1lLCBsaW5rIH0sIGNhcmRUZW1wbGF0ZSwge1xyXG4gICAgaGFuZGxlQ2FyZENsaWNrOiAobmFtZSwgbGluaykgPT4ge1xyXG4gICAgICBwb3B1cEltYWdlLm9wZW4obmFtZSwgbGluayk7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlUGxhY2VGb3JtU3VibWl0ID0gKGZvcm1EYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKHsgbmFtZTogZm9ybURhdGEucGxhY2UsIGxpbms6IGZvcm1EYXRhLmxpbmsgfSk7XHJcbiAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcblxyXG4gIGZvcm1QbGFjZS5jbG9zZSgpO1xyXG4gIGZvcm1WYWxpZGF0b3JzWydhZGQtcGxhY2UnXS5yZXNldFZhbGlkYXRpb24oKTtcclxufTtcclxuXHJcbi8vIENBUkQgLWZ1bmNcclxuXHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgZGF0YTogaW5pdGlhbENhcmRzLFxyXG4gICAgcmVuZGVyZXI6IChpdGVtRGF0YSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoeyBuYW1lOiBpdGVtRGF0YS5uYW1lLCBsaW5rOiBpdGVtRGF0YS5saW5rIH0pO1xyXG5cclxuICAgICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgY2FyZHNDb250YWluZXIsXHJcbik7XHJcblxyXG5jYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xyXG5cclxuLy8gSU1HXHJcbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3AtdXBfcGxhY2VfaW1nJywgcG9wVXBJbWdTZWxlY3RvciwgcG9wVXBUaXRsZUltZ1NlbGVjdG9yKTtcclxucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gUE9QVVAtRk9STS1QTEFDRVxyXG5cclxuY29uc3QgZm9ybVBsYWNlID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBQbGFjZVNlbGVjdG9yLCBwbGFjZUZvcm1TZWxlY3RvciwgaW5wdXRTZWxlY3RvciwgaGFuZGxlUGxhY2VGb3JtU3VibWl0KTtcclxuZm9ybVBsYWNlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBQT1BVUC1GT1JNLVBST0ZJTEVcclxuXHJcbmNvbnN0IGZvcm1Qcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgcG9wVXBQcm9maWxlU2VsZWN0b3IsXHJcbiAgZm9ybVNlbGVjdG9yUHJvZmlsZSxcclxuICBpbnB1dFNlbGVjdG9yLFxyXG4gIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0LFxyXG4pO1xyXG5mb3JtUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgdXNlclByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVOYW1lU2VsZWN0b3IsIHByb2ZpbGVJbmZvU2VsZWN0b3IpO1xyXG5cclxuLy8gTElTVEVORVJTIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5idG5FZGl0UHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBjb25zdCB1c2VyID0gdXNlclByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgcHJvZmlsZUlucHV0TmFtZS52YWx1ZSA9IHVzZXIubmFtZTtcclxuICBwcm9maWxlSW5wdXRJbmZvLnZhbHVlID0gdXNlci5pbmZvO1xyXG5cclxuICBmb3JtUHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYnRuUGxhY2VBZGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgZm9ybVBsYWNlLm9wZW4oKTtcclxufSk7XHJcblxyXG4vL1ZBTElEQVRPUiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xyXG5cclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcclxuXHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihmb3JtQ29uZmlnKTtcclxuIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwiX2RlZmluZVByb3BlcnR5IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbmNhdCIsIm5hbWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJfaW5wdXRFcnJvckNsYXNzIiwidGV4dENvbnRlbnQiLCJfZXJyb3JDbGFzcyIsInJlbW92ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9pbnB1dExpc3QiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVTdWJtaXRCdXR0b24iLCJfYnV0dG9uRWxlbWVudCIsIl9pbmFjdGl2ZUJ1dHRvbiIsInJlbW92ZUF0dHJpYnV0ZSIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2V0QXR0cmlidXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwidGhpcyIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImtleSIsInZhbHVlIiwiX3RoaXMyIiwicmVzZXQiLCJDYXJkIiwiZGF0YSIsImNhcmRUZW1wbGF0ZSIsIl9yZWYiLCJoYW5kbGVDYXJkQ2xpY2siLCJfbmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkVGVtcGxhdGUiLCJfaGFuZGxlQ2FyZENsaWNrIiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZEltZyIsIl9jYXJkVGl0bGUiLCJfY2FyZFRyYXNoIiwiX2NhcmRMaWtlIiwic3JjIiwiYWx0IiwiX3NldEV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJ0b2dnbGUiLCJTZWN0aW9uIiwiY2FyZHNDb250YWluZXIiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwiaW5uZXJIVE1MIiwiY2xlYXIiLCJpdGVtIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiY2xvc2UiLCJfcG9wdXAiLCJkb2N1bWVudCIsIl9jbG9zZWRQb3BVcEVzYyIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY29udGFpbnMiLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJQb3B1cFdpdGhJbWFnZSIsIl9zdXBlciIsInBvcFVwSW1nU2VsZWN0b3IiLCJwb3BVcFRpdGxlSW1nU2VsZWN0b3IiLCJjYWxsIiwiX3BvcFVwSW1nIiwiX3BvcFVwVGl0bGVJbWciLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiUG9wdXBXaXRoRm9ybSIsImNhbGxiYWNrU3VibWl0Rm9ybSIsIl9jYWxsYmFja1N1Ym1pdEZvcm0iLCJfaW5wdXQiLCJfZm9ybVZhbHVlcyIsImlucHV0IiwiX3RoaXMzIiwiX2dldElucHV0VmFsdWVzIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJpbmZvU2VsZWN0b3IiLCJfaW5mbyIsImluZm8iLCJjb250ZW50IiwicG9wVXBQbGFjZSIsImJ0blBsYWNlQWRkIiwicGxhY2VGb3JtIiwicHJvZmlsZUZvcm0iLCJwcm9maWxlSW5wdXROYW1lIiwicHJvZmlsZUlucHV0SW5mbyIsInByb2ZpbGUiLCJidG5FZGl0UHJvZmlsZSIsImNyZWF0ZUNhcmQiLCJjYXJkIiwicG9wdXBJbWFnZSIsIm9wZW4iLCJnZW5lcmF0ZUNhcmQiLCJjYXJkTGlzdCIsIml0ZW1EYXRhIiwiY2FyZEVsZW1lbnQiLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJzZXRFdmVudExpc3RlbmVycyIsImZvcm1QbGFjZSIsImZvcm1EYXRhIiwicGxhY2UiLCJmb3JtVmFsaWRhdG9ycyIsInJlc2V0VmFsaWRhdGlvbiIsImZvcm1Qcm9maWxlIiwidXNlckRhdGEiLCJ1c2VyUHJvZmlsZUluZm8iLCJzZXRVc2VySW5mbyIsInVzZXIiLCJnZXRVc2VySW5mbyIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=