(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function n(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(n)?n:String(n)}var o=function(){function e(t,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"_showInputError",(function(e,t){var n=o._formElement.querySelector(".form__item-error_el_".concat(e.name));e.classList.add(o._inputErrorClass),n.textContent=t,n.classList.add(o._errorClass)})),n(this,"_hideInputError",(function(e){var t=o._formElement.querySelector(".form__item-error_el_".concat(e.name));e.classList.remove(o._inputErrorClass),t.classList.remove(o._errorClass),t.textContent=""})),n(this,"_checkInputValidity",(function(e){e.validity.valid?o._hideInputError(e):o._showInputError(e,e.validationMessage)})),n(this,"_hasInvalidInput",(function(){return o._inputList.some((function(e){return!e.validity.valid}))})),n(this,"_toggleButtonState",(function(){o._hasInvalidInput(o._inputList)?o.disableSubmitButton():o.enableSubmitButton()})),n(this,"enableSubmitButton",(function(){o._buttonElement.classList.remove(o._inactiveButton),o._buttonElement.removeAttribute("disabled")})),n(this,"disableSubmitButton",(function(){o._buttonElement.classList.add(o._inactiveButton),o._buttonElement.setAttribute("disabled","disabled")})),n(this,"_setEventListeners",(function(){o._inputList=Array.from(o._formElement.querySelectorAll(o._inputSelector)),o._buttonElement=o._formElement.querySelector(o._submitButtonSelector),o._toggleButtonState(),o._inputList.forEach((function(e){e.addEventListener("input",(function(t){t.preventDefault(),o._checkInputValidity(e),o._toggleButtonState()}))}))})),n(this,"enableValidation",(function(){o._setEventListeners()})),this.config=t,this._formElement=r,this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButton=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass}var r,o;return r=e,(o=[{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&t(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}();function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===i(o)?o:String(o)),r)}var o}var u=function(){function e(t,n,r,o,i,a){var u=o.handleCardClick,c=i.handleRemoveButtonClick,l=a.handleClickLikes;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._cardTemplate=r,this._handleCardClick=u,this._likes=t.likes,this._cardId=t.cardId,this._ownerId=t.ownerId,this._userId=n,this._handleRemoveButtonClick=c,this._handleClickLikes=l}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this._cardTemplate.cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardImg=this._element.querySelector(".card__img"),this._cardTitle=this._element.querySelector(".card__title"),this._cardTrash=this._element.querySelector(".card__trash"),this._cardLike=this._element.querySelector(".card__like"),this._likesCounter=this._element.querySelector(".card__like_el_count"),this._likesCounter.textContent=this._likes.length,this._cardTitle.textContent=this._name,this._cardImg.src=this._link,this._cardImg.alt=this._name,this._updateInfo(),this._visibleTrash(),this._setEventListener(),this._element}},{key:"addLike",value:function(){this._cardLike.classList.add("card__like_active")}},{key:"deleteLike",value:function(){this._cardLike.classList.remove("card__like_active")}},{key:"countLikes",value:function(e){this._likes=e,this._element.querySelector(".card__like_el_count").textContent=this._likes.length}},{key:"_visibleTrash",value:function(){this._userId!==this._ownerId&&this._cardTrash.remove()}},{key:"_updateInfo",value:function(){var e=this;this._likesCounter.textContent=this._likes.length,this._likes.some((function(t){return t._id===e._userId}))&&this._cardLike.classList.add("card__like_active")}},{key:"deleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListener",value:function(){var e=this;this._cardTrash.addEventListener("click",(function(){e._handleRemoveButtonClick(e)})),this._cardLike.addEventListener("click",(function(t){e._handleClickLikes(e._cardId)})),this._cardImg.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const c=u;function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}var f=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(e){var t=this;this.clear(),e.forEach((function(e){t._renderer(e)}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const p=f;function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function m(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}const h=function(){function e(t){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=function(e){"Escape"===e.key&&i.close()},(r=m(r="_closedPopUpEsc"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._popup=document.querySelector(t),this._closedPopUpEsc=this._closedPopUpEsc.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("pop-up_active"),document.addEventListener("keydown",this._closedPopUpEsc)}},{key:"close",value:function(){this._popup.classList.remove("pop-up_active"),document.removeEventListener("keydown",this._closedPopUpEsc)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){t.target.classList.contains("pop-up_active")&&e.close(),t.target.classList.contains("pop-up__close")&&e.close()}))}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===v(o)?o:String(o)),r)}var o}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}const k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e))._popUpImg=r._popup.querySelector(t),r._popUpTitleImg=r._popup.querySelector(n),r}return t=a,(n=[{key:"open",value:function(e,t){this._popUpTitleImg.textContent=e,this._popUpImg.src=t,this._popUpImg.alt=e,b(g(a.prototype),"open",this).call(this)}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(h);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===w(o)?o:String(o)),r)}var o}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},j.apply(this,arguments)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(o=i.call(this,e))._formElement=o._popup.querySelector(t),o._callbackSubmitForm=r,o._input=n,o._inputList=o._formElement.querySelectorAll(o._input),o._btnFormSubmit=o._formElement.querySelector(".pop-up__button"),o}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"loadingButtonText",value:function(e){this._btnFormSubmit.textContent=e}},{key:"setEventListeners",value:function(){var e=this;j(P(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._callbackSubmitForm(e._getInputValues())}))}},{key:"close",value:function(){j(P(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(h);const C=L;function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===I(o)?o:String(o)),r)}var o}const B=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t),this._info=document.querySelector(n),this._avatar=document.getElementById(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(e){return{name:this._name.textContent,info:this._info.textContent}}},{key:"setUserAvatar",value:function(e){var t=e.avatar;this._avatar.style.backgroundImage="url(".concat(t,")")}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.info,r=e.id;this._name.textContent=t,this._info.textContent=n,this._id=r}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===q(o)?o:String(o)),r)}var o}const x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t.url,this.headers=t.headers}var t,n;return t=e,(n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this.url,"/cards"),{method:"GET",headers:this.headers}).then((function(t){return e._getResponseData(t)}))}},{key:"getServerUserInfo",value:function(){var e=this;return fetch("".concat(this.url,"/users/me"),{method:"GET",headers:this.headers}).then((function(t){return e._getResponseData(t)}))}},{key:"editServerProfile",value:function(e){var t=this;return fetch("".concat(this.url,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e.name,about:e.info})}).then((function(e){return t._getResponseData(e)}))}},{key:"addCardServer",value:function(e){var t=this;return fetch("".concat(this.url,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:e.place,link:e.link,likes:e.likes})}).then((function(e){return t._getResponseData(e)}))}},{key:"editAvatar",value:function(e){var t=this;return fetch("".concat(this.url,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e.link})}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteCardServer",value:function(e){var t=this;return fetch("".concat(this.url,"/cards/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return t._getResponseData(e)}))}},{key:"addLikeServer",value:function(e){var t=this;return fetch("".concat(this.url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this.headers}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteLikeServer",value:function(e){var t=this;return fetch("".concat(this.url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this.headers}).then((function(e){return t._getResponseData(e)}))}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===A(o)?o:String(o)),r)}var o}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}const N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(r);if(o){var n=F(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._form=t._popup.querySelector(".form_place_delete-card"),t._btnDelete=t._popup.querySelector(".pop-up__button_place_delete-card"),t}return t=a,(n=[{key:"setSubmitAction",value:function(e){this._handleSubmitCallback=e}},{key:"setEventListeners",value:function(){var e=this;D(F(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitCallback()}))}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(h);var H=document.querySelector(".card-template").content.querySelector(".card"),J=document.querySelector(".cards"),M=(document.querySelectorAll(".pop-up"),document.querySelector(".pop-up_place_add-place")),G=document.querySelector(".profile__add-button"),z=(document.querySelector(".form"),".form__item"),$=M.querySelector(".form_place_add-place"),K=($.querySelector(".form__item_el_name"),$.querySelector(".form__item_el_link"),document.querySelector(".form_place_edit-profile")),Q=K.querySelector(".form__item_el_name"),W=K.querySelector(".form__item_el_info"),X=(document.querySelector(".pop-up_place_profile"),document.querySelector(".profile")),Y=(X.querySelector(".profile__name"),X.querySelector(".profile__info"),document.getElementById("avatar"),document.querySelector(".profile__avatar")),Z=X.querySelector(".profile__edit-button");function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.querySelector(".pop-up_place_img");var te=new x({url:"https://mesto.nomoreparties.co/v1/cohort-63",headers:{authorization:"6e9922b1-82bb-44b1-8c4a-e1a93da7bd0f","Content-Type":"application/json"}}),ne=null;Promise.all([te.getServerUserInfo(),te.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];ne=o._id,ce.setUserInfo({info:o.about,name:o.name,id:o._id}),ce.setUserAvatar({avatar:o.avatar}),ie.renderItems(i.reverse())})).catch((function(e){console.log(e)}));var re=function(e){var t=new c(e,ne,H,{handleCardClick:function(e,t){se.open(e,t)}},{handleRemoveButtonClick:function(e){oe.open(),oe.setSubmitAction((function(){te.deleteCardServer(e._cardId).then((function(){e.deleteCard(),oe.close()})).catch((function(e){console.log(e)}))}))}},{handleClickLikes:function(){e.likes.some((function(e){return e._id===ne}))?te.deleteLikeServer(e.cardId).then((function(n){t.deleteLike(),e.likes=n.likes,t.countLikes(n.likes)})).catch((function(e){console.log(e)})):te.addLikeServer(e.cardId).then((function(n){t.addLike(),e.likes=n.likes,t.countLikes(n.likes)})).catch((function(e){console.log(e)}))}});return t.generateCard()},oe=new N(".pop-up_place_delete-card");oe.setEventListeners();var ie=new p({renderer:function(e){var t=re({name:e.name,link:e.link,likes:e.likes,cardId:e._id,ownerId:e.owner._id,userId:ne});ie.addItem(t)}},J),ae=new C(".pop-up_place_add-place",".form_place_add-place",z,(function(e){pe["add-place"].disableSubmitButton(),ae.loadingButtonText("Создание..."),te.addCardServer(e).then((function(e){ie.addItem(re({name:e.name,link:e.link,likes:e.likes,cardId:e._id,ownerId:e.owner._id,userId:ne})),ae.close()})).catch((function(e){pe["add-place"].enableSubmitButton(),console.log(e)})).finally((function(){return ae.loadingButtonText("Создать")}))}));ae.setEventListeners();var ue=new C(".pop-up_place_profile",".form_place_edit-profile",z,(function(e){pe["edit-profile"].disableSubmitButton(),ue.loadingButtonText("Сохранение..."),te.editServerProfile(e).then((function(e){ce.setUserInfo({name:e.name,info:e.about}),ue.close()})).catch((function(e){pe["edit-profile"].enableSubmitButton(),console.log(e)})).finally((function(){return ue.loadingButtonText("Сохранить")}))}));ue.setEventListeners();var ce=new B(".profile__name",".profile__info","avatar"),le=new C(".pop-up_place_update-avatar",".form_place_update-avatar",z,(function(e){pe["update-avatar"].disableSubmitButton(),le.loadingButtonText("Сохранение..."),te.editAvatar(e).then((function(e){ce.setUserAvatar({avatar:e.avatar}),console.log("avatar"),le.close()})).catch((function(e){pe["update-avatar"].enableSubmitButton(),console.log(e)})).finally((function(){return le.loadingButtonText("Сохранить")}))}));le.setEventListeners();var se=new k(".pop-up_place_img",".pop-up__img",".pop-up__title-img");se.setEventListeners(),Y.addEventListener("click",(function(){pe["update-avatar"].resetValidation(),le.open()})),Z.addEventListener("click",(function(){var e=ce.getUserInfo();Q.value=e.name,W.value=e.info,ue.open()})),G.addEventListener("click",(function(){pe["add-place"].resetValidation(),ae.open()}));var fe,pe={};fe={formSelector:".form",inputSelector:".form__item",submitButtonSelector:".pop-up__button",inactiveButtonClass:"pop-up__button_disabled",inputErrorClass:"form__item_invalid",errorClass:"form__item-error"},Array.from(document.querySelectorAll(fe.formSelector)).forEach((function(e){var t=new o(fe,e),n=e.getAttribute("name");pe[n]=t,t.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRd0MsRUFBS3FELEtBRTlCbUYsR0FBWXBCLE1BQ2QsSUFFQXpCLEVBQVlqSixpQkFBaUIsU0FBUyxXQUNwQzJMLEdBQWUsYUFBYU8sa0JBQzVCUixHQUFVaEIsTUFDWixJQUlBLElBRTBCak4sR0FGcEJrTyxHQUFpQixDQUFDLEVBRUVsTyxHRGhRQSxDQUN4QjhDLGFBQWMsUUFDZEMsY0FBZSxjQUNmQyxxQkFBc0Isa0JBQ3RCQyxvQkFBcUIsMEJBQ3JCQyxnQkFBaUIscUJBQ2pCQyxXQUFZLG9CQzJQS25CLE1BQU1DLEtBQUs2RSxTQUFTNUUsaUJBQWlCbEMsR0FBTzhDLGVBQ3BEUixTQUFRLFNBQUNyQyxHQUNoQixJQUFNME8sRUFBWSxJQUFJNU8sRUFBY0MsR0FBUUMsR0FDdEMyTyxFQUFXM08sRUFBWTRPLGFBQWEsUUFFMUNYLEdBQWVVLEdBQVlELEVBQzNCQSxFQUFVRyxrQkFDWixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLXdlYnBhY2svLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGNvbmZpZy5mb3JtU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuZm9ybV9faXRlbS1lcnJvcl9lbF8ke2lucHV0RWxlbWVudC5uYW1lfWApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC5mb3JtX19pdGVtLWVycm9yX2VsXyR7aW5wdXRFbGVtZW50Lm5hbWV9YCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICB9O1xyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRMaXN0KSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBlbmFibGVTdWJtaXRCdXR0b24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b24pO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgfTtcclxuICBkaXNhYmxlU3VibWl0QnV0dG9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gIH07XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldnQpID0+IHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9O1xyXG59XHJcbiIsImNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHVzZXJJZCwgY2FyZFRlbXBsYXRlLCB7IGhhbmRsZUNhcmRDbGljayB9LCB7IGhhbmRsZVJlbW92ZUJ1dHRvbkNsaWNrIH0sIHsgaGFuZGxlQ2xpY2tMaWtlcyB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGNhcmRUZW1wbGF0ZTtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuY2FyZElkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXJJZDtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX2hhbmRsZVJlbW92ZUJ1dHRvbkNsaWNrID0gaGFuZGxlUmVtb3ZlQnV0dG9uQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVDbGlja0xpa2VzID0gaGFuZGxlQ2xpY2tMaWtlcztcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IHRoaXMuX2NhcmRUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICByZXR1cm4gY2FyZFRlbXBsYXRlO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9jYXJkSW1nID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1nJyk7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190aXRsZScpO1xyXG4gICAgdGhpcy5fY2FyZFRyYXNoID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdHJhc2gnKTtcclxuICAgIHRoaXMuX2NhcmRMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZScpO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZV9lbF9jb3VudCcpO1xyXG5cclxuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1nLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1nLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl91cGRhdGVJbmZvKCk7XHJcbiAgICB0aGlzLl92aXNpYmxlVHJhc2goKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIGFkZExpa2UoKSB7XHJcbiAgICB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QuYWRkKCdjYXJkX19saWtlX2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlTGlrZSgpIHtcclxuICAgIHRoaXMuX2NhcmRMaWtlLmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmRfX2xpa2VfYWN0aXZlJyk7XHJcbiAgfVxyXG5cclxuICBjb3VudExpa2VzKGxpa2VzKSB7XHJcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xyXG5cclxuICAgIGNvbnN0IGxpa2VzQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2VfZWxfY291bnQnKTtcclxuICAgIGxpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIF92aXNpYmxlVHJhc2goKSB7XHJcbiAgICBpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9vd25lcklkKSB7XHJcbiAgICAgIHRoaXMuX2NhcmRUcmFzaC5yZW1vdmUoKTtcclxuICAgIH1cclxuICB9XHJcbiAgX3VwZGF0ZUluZm8oKSB7XHJcbiAgICB0aGlzLl9saWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgodXNlcikgPT4gdXNlci5faWQgPT09IHRoaXMuX3VzZXJJZCkpIHtcclxuICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcigpIHtcclxuICAgIHRoaXMuX2NhcmRUcmFzaC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlQnV0dG9uQ2xpY2sodGhpcyk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2NhcmRMaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDbGlja0xpa2VzKHRoaXMuX2NhcmRJZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7XHJcbiIsImNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY2FyZHNDb250YWluZXIpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjYXJkc0NvbnRhaW5lcjtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGNhcmRzKSB7XHJcbiAgICB0aGlzLmNsZWFyKCk7XHJcblxyXG4gICAgY2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjtcclxuIiwiY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Nsb3NlZFBvcFVwRXNjID0gdGhpcy5fY2xvc2VkUG9wVXBFc2MuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3AtdXBfYWN0aXZlJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xvc2VkUG9wVXBFc2MpO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcC11cF9hY3RpdmUnKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jbG9zZWRQb3BVcEVzYyk7XHJcbiAgfVxyXG5cclxuICBfY2xvc2VkUG9wVXBFc2MgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wLXVwX2FjdGl2ZScpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wLXVwX19jbG9zZScpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBwb3BVcEltZ1NlbGVjdG9yLCBwb3BVcFRpdGxlSW1nU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wVXBJbWcgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHBvcFVwSW1nU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wVXBUaXRsZUltZyA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IocG9wVXBUaXRsZUltZ1NlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgdGhpcy5fcG9wVXBUaXRsZUltZy50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wb3BVcEltZy5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcG9wVXBJbWcuYWx0ID0gbmFtZTtcclxuXHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBmb3JtU2VsZWN0b3IsIGlucHV0U2VsZWN0b3IsIGNhbGxiYWNrU3VibWl0Rm9ybSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jYWxsYmFja1N1Ym1pdEZvcm0gPSBjYWxsYmFja1N1Ym1pdEZvcm07XHJcbiAgICB0aGlzLl9pbnB1dCA9IGlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0KTtcclxuICAgIHRoaXMuX2J0bkZvcm1TdWJtaXQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wLXVwX19idXR0b24nKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBsb2FkaW5nQnV0dG9uVGV4dCh0ZXh0KSB7XHJcbiAgICB0aGlzLl9idG5Gb3JtU3VibWl0LnRleHRDb250ZW50ID0gdGV4dDtcclxuICB9XHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICB0aGlzLl9jYWxsYmFja1N1Ym1pdEZvcm0odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07XHJcbiIsImNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lU2VsZWN0b3IsIGluZm9TZWxlY3RvciwgYXZhdGFySWQpIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbmZvU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXZhdGFySWQpO1xyXG4gIH1cclxuICBnZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBpbmZvOiB0aGlzLl9pbmZvLnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJBdmF0YXIoeyBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fYXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHthdmF0YXJ9KWA7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGluZm8sIGlkIH0pIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5faW5mby50ZXh0Q29udGVudCA9IGluZm87XHJcblxyXG4gICAgdGhpcy5faWQgPSBpZDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvO1xyXG4iLCJjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbikge1xyXG4gICAgdGhpcy51cmwgPSBvcHRpb24udXJsO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9uLmhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfZ2V0UmVzcG9uc2VEYXRhKHJlcykge1xyXG4gICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XHJcbiAgfVxyXG5cclxuICBnZXRTZXJ2ZXJVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgZWRpdFNlcnZlclByb2ZpbGUodXNlckRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IHVzZXJEYXRhLm5hbWUsIGFib3V0OiB1c2VyRGF0YS5pbmZvIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XHJcbiAgfVxyXG5cclxuICBhZGRDYXJkU2VydmVyKGZvcm1EYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IGZvcm1EYXRhLnBsYWNlLCBsaW5rOiBmb3JtRGF0YS5saW5rLCBsaWtlczogZm9ybURhdGEubGlrZXMgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcclxuICB9XHJcblxyXG4gIGVkaXRBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyOiBhdmF0YXIubGluayB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZFNlcnZlcihjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcclxuICB9XHJcblxyXG4gIGFkZExpa2VTZXJ2ZXIoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVMaWtlU2VydmVyKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXBpO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX3BsYWNlX2RlbGV0ZS1jYXJkJyk7XHJcbiAgICB0aGlzLl9idG5EZWxldGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wLXVwX19idXR0b25fcGxhY2VfZGVsZXRlLWNhcmQnKTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdENhbGxiYWNrID0gYWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRDYWxsYmFjaygpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhDb25maXJtO1xyXG4iLCJleHBvcnQgY29uc3QgZm9ybUNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcuZm9ybScsXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pdGVtJyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3AtdXBfX2J1dHRvbicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcC11cF9fYnV0dG9uX2Rpc2FibGVkJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pdGVtX2ludmFsaWQnLFxyXG4gIGVycm9yQ2xhc3M6ICdmb3JtX19pdGVtLWVycm9yJyxcclxufTtcclxuXHJcbi8vIENBUkRTIC8vXHJcbmV4cG9ydCBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC10ZW1wbGF0ZScpLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmNhcmQnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0U2VsZWN0b3IgPSAnLmNhcmRzJztcclxuZXhwb3J0IGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzJyk7XHJcbmV4cG9ydCBjb25zdCBwb3BVcExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wLXVwJyk7XHJcblxyXG4vLyBQT1AtVVAgLy8gUExBQ0UgLy9cclxuZXhwb3J0IGNvbnN0IHBvcHVwU2VsZWN0b3IgPSAnLnBvcC11cCc7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFBsYWNlU2VsZWN0b3IgPSAnLnBvcC11cF9wbGFjZV9hZGQtcGxhY2UnO1xyXG5leHBvcnQgY29uc3QgcG9wVXBQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3AtdXBfcGxhY2VfYWRkLXBsYWNlJyk7XHJcbmV4cG9ydCBjb25zdCBidG5QbGFjZUFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBidG5QbGFjZUFkZFNlbGVjdG9yID0gJy5wcm9maWxlX19hZGQtYnV0dG9uJztcclxuZXhwb3J0IGNvbnN0IGZvcm1TZWxlY3RvciA9ICcuZm9ybSc7XHJcbmV4cG9ydCBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0U2VsZWN0b3IgPSAnLmZvcm1fX2l0ZW0nO1xyXG4vLyBGT1JNIC8vIFBMQUNFIC8vXHJcbmV4cG9ydCBjb25zdCBwbGFjZUZvcm1TZWxlY3RvciA9ICcuZm9ybV9wbGFjZV9hZGQtcGxhY2UnO1xyXG5leHBvcnQgY29uc3QgcGxhY2VGb3JtID0gcG9wVXBQbGFjZS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9wbGFjZV9hZGQtcGxhY2UnKTtcclxuZXhwb3J0IGNvbnN0IHBsYWNlSW5wdXROYW1lID0gcGxhY2VGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pdGVtX2VsX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IHBsYWNlSW5wdXRMaW5rID0gcGxhY2VGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pdGVtX2VsX2xpbmsnKTtcclxuXHJcbi8vIEZPUk0gLy8gUFJPRklMRSAvL1xyXG5leHBvcnQgY29uc3QgZm9ybVNlbGVjdG9yUHJvZmlsZSA9ICcuZm9ybV9wbGFjZV9lZGl0LXByb2ZpbGUnO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9wbGFjZV9lZGl0LXByb2ZpbGUnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVJbnB1dE5hbWUgPSBwcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faXRlbV9lbF9uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlSW5wdXRJbmZvID0gcHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX2l0ZW1fZWxfaW5mbycpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBdmF0YXJTZWxlY3RvciA9ICcucG9wLXVwX3BsYWNlX3VwZGF0ZS1hdmF0YXInO1xyXG5leHBvcnQgY29uc3QgZm9ybUF2YXRhclNlbGVjdG9yID0gJy5mb3JtX3BsYWNlX3VwZGF0ZS1hdmF0YXInO1xyXG5cclxuLy8gUE9QLVVQIC8vIFBST0ZJTEUgLy9cclxuXHJcbmV4cG9ydCBjb25zdCBwb3BVcFByb2ZpbGVTZWxlY3RvciA9ICcucG9wLXVwX3BsYWNlX3Byb2ZpbGUnO1xyXG5leHBvcnQgY29uc3QgcG9wVXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcC11cF9wbGFjZV9wcm9maWxlJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUluZm8gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbmZvJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZVNlbGVjdG9yID0gJy5wcm9maWxlX19uYW1lJztcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVJbmZvU2VsZWN0b3IgPSAnLnByb2ZpbGVfX2luZm8nO1xyXG5cclxuLy8gQlROLUVESVQgLy8gUFJPRklMRVxyXG5leHBvcnQgY29uc3QgYXZhdGFyQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFySWQgPSAnYXZhdGFyJztcclxuZXhwb3J0IGNvbnN0IGJ0bkVkaXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBidG5FZGl0UHJvZmlsZSA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBidG5FZGl0UHJvZmlsZVNlbGVjdG9yID0gJy5wcm9maWxlX19lZGl0LWJ1dHRvbic7XHJcbi8vIFBPUC1VUCAvLyBJTUcgLy9cclxuXHJcbmV4cG9ydCBjb25zdCBwb3BVcFBsYWNlSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcC11cF9wbGFjZV9pbWcnKTtcclxuZXhwb3J0IGNvbnN0IHBvcFVwSW1nU2VsZWN0b3IgPSAnLnBvcC11cF9faW1nJztcclxuZXhwb3J0IGNvbnN0IHBvcFVwVGl0bGVJbWdTZWxlY3RvciA9ICcucG9wLXVwX190aXRsZS1pbWcnO1xyXG4iLCJpbXBvcnQgJy4uL3BhZ2VzL2luZGV4LmNzcyc7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzJztcclxuaW1wb3J0IHtcclxuICBmb3JtQ29uZmlnLFxyXG4gIHBvcFVwUHJvZmlsZVNlbGVjdG9yLFxyXG4gIHBvcHVwUGxhY2VTZWxlY3RvcixcclxuICBwbGFjZUZvcm1TZWxlY3RvcixcclxuICBmb3JtU2VsZWN0b3JQcm9maWxlLFxyXG4gIGlucHV0U2VsZWN0b3IsXHJcbiAgY2FyZFRlbXBsYXRlLFxyXG4gIGNhcmRzQ29udGFpbmVyLFxyXG4gIHByb2ZpbGVOYW1lU2VsZWN0b3IsXHJcbiAgcHJvZmlsZUluZm9TZWxlY3RvcixcclxuICBidG5QbGFjZUFkZCxcclxuICBidG5FZGl0QXZhdGFyLFxyXG4gIHByb2ZpbGVJbnB1dE5hbWUsXHJcbiAgcHJvZmlsZUlucHV0SW5mbyxcclxuICBidG5FZGl0UHJvZmlsZSxcclxuICBwb3BVcEltZ1NlbGVjdG9yLFxyXG4gIHBvcFVwVGl0bGVJbWdTZWxlY3RvcixcclxuICBwb3B1cEF2YXRhclNlbGVjdG9yLFxyXG4gIGZvcm1BdmF0YXJTZWxlY3RvcixcclxuICBhdmF0YXJJZCxcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5cclxuLy8gQVBJXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIHVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjMnLFxyXG4gIGhlYWRlcnM6IHsgYXV0aG9yaXphdGlvbjogJzZlOTkyMmIxLTgyYmItNDRiMS04YzRhLWUxYTkzZGE3YmQwZicsICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxufSk7XHJcblxyXG5sZXQgdXNlcklkID0gbnVsbDtcclxuXHJcblByb21pc2UuYWxsKFthcGkuZ2V0U2VydmVyVXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcclxuICAudGhlbigoW2luZm8sIGNhcmRzXSkgPT4ge1xyXG4gICAgdXNlcklkID0gaW5mby5faWQ7XHJcblxyXG4gICAgdXNlclByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHtcclxuICAgICAgaW5mbzogaW5mby5hYm91dCxcclxuICAgICAgbmFtZTogaW5mby5uYW1lLFxyXG4gICAgICBpZDogaW5mby5faWQsXHJcbiAgICB9KTtcclxuICAgIHVzZXJQcm9maWxlSW5mby5zZXRVc2VyQXZhdGFyKHsgYXZhdGFyOiBpbmZvLmF2YXRhciB9KTtcclxuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGNhcmRzLnJldmVyc2UoKSk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KTtcclxuXHJcbi8vIENBUkRTXHJcblxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICBkYXRhLFxyXG4gICAgdXNlcklkLFxyXG4gICAgY2FyZFRlbXBsYXRlLFxyXG4gICAge1xyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rKSA9PiB7XHJcbiAgICAgICAgcG9wdXBJbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgaGFuZGxlUmVtb3ZlQnV0dG9uQ2xpY2s6IChjYXJkKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLm9wZW4oKTtcclxuICAgICAgICBkZWxldGVDYXJkUG9wdXAuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcclxuICAgICAgICAgIGFwaVxyXG4gICAgICAgICAgICAuZGVsZXRlQ2FyZFNlcnZlcihjYXJkLl9jYXJkSWQpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICBjYXJkLmRlbGV0ZUNhcmQoKTtcclxuICAgICAgICAgICAgICBkZWxldGVDYXJkUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGhhbmRsZUNsaWNrTGlrZXM6ICgpID0+IHtcclxuICAgICAgICBpZiAoZGF0YS5saWtlcy5zb21lKCh1c2VyKSA9PiB1c2VyLl9pZCA9PT0gdXNlcklkKSkge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5kZWxldGVMaWtlU2VydmVyKGRhdGEuY2FyZElkKVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgY2FyZC5kZWxldGVMaWtlKCk7XHJcbiAgICAgICAgICAgICAgZGF0YS5saWtlcyA9IHJlcy5saWtlcztcclxuICAgICAgICAgICAgICBjYXJkLmNvdW50TGlrZXMocmVzLmxpa2VzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5hZGRMaWtlU2VydmVyKGRhdGEuY2FyZElkKVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgY2FyZC5hZGRMaWtlKCk7XHJcbiAgICAgICAgICAgICAgZGF0YS5saWtlcyA9IHJlcy5saWtlcztcclxuICAgICAgICAgICAgICBjYXJkLmNvdW50TGlrZXMocmVzLmxpa2VzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICk7XHJcblxyXG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG59O1xyXG5cclxuY29uc3QgZGVsZXRlQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm0oJy5wb3AtdXBfcGxhY2VfZGVsZXRlLWNhcmQnKTtcclxuZGVsZXRlQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBTRUNUSU9OIENBUkRTXHJcblxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIHJlbmRlcmVyOiAoaXRlbURhdGEpID0+IHtcclxuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKHtcclxuICAgICAgICBuYW1lOiBpdGVtRGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGl0ZW1EYXRhLmxpbmssXHJcbiAgICAgICAgbGlrZXM6IGl0ZW1EYXRhLmxpa2VzLFxyXG4gICAgICAgIGNhcmRJZDogaXRlbURhdGEuX2lkLFxyXG4gICAgICAgIG93bmVySWQ6IGl0ZW1EYXRhLm93bmVyLl9pZCxcclxuICAgICAgICB1c2VySWQ6IHVzZXJJZCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBjYXJkc0NvbnRhaW5lcixcclxuKTtcclxuXHJcbi8vIFBPUFVQLUZPUk0tUExBQ0VcclxuXHJcbmNvbnN0IGhhbmRsZVBsYWNlRm9ybVN1Ym1pdCA9IChmb3JtRGF0YSkgPT4ge1xyXG4gIGZvcm1WYWxpZGF0b3JzWydhZGQtcGxhY2UnXS5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgZm9ybVBsYWNlLmxvYWRpbmdCdXR0b25UZXh0KCfQodC+0LfQtNCw0L3QuNC1Li4uJyk7XHJcblxyXG4gIGFwaVxyXG4gICAgLmFkZENhcmRTZXJ2ZXIoZm9ybURhdGEpXHJcbiAgICAudGhlbigoY2FyZCkgPT4ge1xyXG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKFxyXG4gICAgICAgIGNyZWF0ZUNhcmQoe1xyXG4gICAgICAgICAgbmFtZTogY2FyZC5uYW1lLFxyXG4gICAgICAgICAgbGluazogY2FyZC5saW5rLFxyXG4gICAgICAgICAgbGlrZXM6IGNhcmQubGlrZXMsXHJcbiAgICAgICAgICBjYXJkSWQ6IGNhcmQuX2lkLFxyXG4gICAgICAgICAgb3duZXJJZDogY2FyZC5vd25lci5faWQsXHJcbiAgICAgICAgICB1c2VySWQ6IHVzZXJJZCxcclxuICAgICAgICB9KSxcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGZvcm1QbGFjZS5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGZvcm1WYWxpZGF0b3JzWydhZGQtcGxhY2UnXS5lbmFibGVTdWJtaXRCdXR0b24oKTtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiBmb3JtUGxhY2UubG9hZGluZ0J1dHRvblRleHQoJ9Ch0L7Qt9C00LDRgtGMJykpO1xyXG59O1xyXG5cclxuY29uc3QgZm9ybVBsYWNlID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBQbGFjZVNlbGVjdG9yLCBwbGFjZUZvcm1TZWxlY3RvciwgaW5wdXRTZWxlY3RvciwgaGFuZGxlUGxhY2VGb3JtU3VibWl0KTtcclxuZm9ybVBsYWNlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBQT1BVUC1GT1JNLVBST0ZJTEVcclxuXHJcbmNvbnN0IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0ID0gKHVzZXJEYXRhKSA9PiB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbJ2VkaXQtcHJvZmlsZSddLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICBmb3JtUHJvZmlsZS5sb2FkaW5nQnV0dG9uVGV4dCgn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcclxuICBhcGlcclxuICAgIC5lZGl0U2VydmVyUHJvZmlsZSh1c2VyRGF0YSlcclxuICAgIC50aGVuKCh1c2VyKSA9PiB7XHJcbiAgICAgIHVzZXJQcm9maWxlSW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHVzZXIubmFtZSwgaW5mbzogdXNlci5hYm91dCB9KTtcclxuICAgICAgZm9ybVByb2ZpbGUuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBmb3JtVmFsaWRhdG9yc1snZWRpdC1wcm9maWxlJ10uZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4gZm9ybVByb2ZpbGUubG9hZGluZ0J1dHRvblRleHQoJ9Ch0L7RhdGA0LDQvdC40YLRjCcpKTtcclxufTtcclxuXHJcbmNvbnN0IGZvcm1Qcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgcG9wVXBQcm9maWxlU2VsZWN0b3IsXHJcbiAgZm9ybVNlbGVjdG9yUHJvZmlsZSxcclxuICBpbnB1dFNlbGVjdG9yLFxyXG4gIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0LFxyXG4pO1xyXG5cclxuZm9ybVByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vIFVTRVItSU5GT1xyXG5cclxuY29uc3QgdXNlclByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVOYW1lU2VsZWN0b3IsIHByb2ZpbGVJbmZvU2VsZWN0b3IsIGF2YXRhcklkKTtcclxuXHJcbi8vIEFWQVRBUlxyXG5cclxuY29uc3QgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCA9IChmb3JtRGF0YSkgPT4ge1xyXG4gIGZvcm1WYWxpZGF0b3JzWyd1cGRhdGUtYXZhdGFyJ10uZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gIGZvcm1VcGRhdGVBdmF0YXIubG9hZGluZ0J1dHRvblRleHQoJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyk7XHJcbiAgYXBpXHJcbiAgICAuZWRpdEF2YXRhcihmb3JtRGF0YSlcclxuICAgIC50aGVuKChhdmF0YXIpID0+IHtcclxuICAgICAgdXNlclByb2ZpbGVJbmZvLnNldFVzZXJBdmF0YXIoeyBhdmF0YXI6IGF2YXRhci5hdmF0YXIgfSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdhdmF0YXInKTtcclxuICAgICAgZm9ybVVwZGF0ZUF2YXRhci5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGZvcm1WYWxpZGF0b3JzWyd1cGRhdGUtYXZhdGFyJ10uZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4gZm9ybVVwZGF0ZUF2YXRhci5sb2FkaW5nQnV0dG9uVGV4dCgn0KHQvtGF0YDQsNC90LjRgtGMJykpO1xyXG59O1xyXG5cclxuY29uc3QgZm9ybVVwZGF0ZUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHBvcHVwQXZhdGFyU2VsZWN0b3IsXHJcbiAgZm9ybUF2YXRhclNlbGVjdG9yLFxyXG4gIGlucHV0U2VsZWN0b3IsXHJcbiAgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCxcclxuKTtcclxuZm9ybVVwZGF0ZUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gSU1HXHJcbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3AtdXBfcGxhY2VfaW1nJywgcG9wVXBJbWdTZWxlY3RvciwgcG9wVXBUaXRsZUltZ1NlbGVjdG9yKTtcclxucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gTElTVEVORVJTIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmJ0bkVkaXRBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbJ3VwZGF0ZS1hdmF0YXInXS5yZXNldFZhbGlkYXRpb24oKTtcclxuICBmb3JtVXBkYXRlQXZhdGFyLm9wZW4oKTtcclxufSk7XHJcblxyXG5idG5FZGl0UHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBjb25zdCB1c2VyID0gdXNlclByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgcHJvZmlsZUlucHV0TmFtZS52YWx1ZSA9IHVzZXIubmFtZTtcclxuICBwcm9maWxlSW5wdXRJbmZvLnZhbHVlID0gdXNlci5pbmZvO1xyXG5cclxuICBmb3JtUHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYnRuUGxhY2VBZGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbJ2FkZC1wbGFjZSddLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGZvcm1QbGFjZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy9WQUxJREFUT1IgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcclxuXHJcbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FbGVtZW50KTtcclxuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XHJcblxyXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xyXG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9KTtcclxufTtcclxuXHJcbmVuYWJsZVZhbGlkYXRpb24oZm9ybUNvbmZpZyk7XHJcbiJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsIl9kZWZpbmVQcm9wZXJ0eSIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb25jYXQiLCJuYW1lIiwiY2xhc3NMaXN0IiwiYWRkIiwiX2lucHV0RXJyb3JDbGFzcyIsInRleHRDb250ZW50IiwiX2Vycm9yQ2xhc3MiLCJyZW1vdmUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaW5wdXRMaXN0Iiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlU3VibWl0QnV0dG9uIiwiZW5hYmxlU3VibWl0QnV0dG9uIiwiX2J1dHRvbkVsZW1lbnQiLCJfaW5hY3RpdmVCdXR0b24iLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRFdmVudExpc3RlbmVycyIsInRoaXMiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsIl90aGlzMiIsIkNhcmQiLCJkYXRhIiwidXNlcklkIiwiY2FyZFRlbXBsYXRlIiwiX3JlZiIsIl9yZWYyIiwiX3JlZjMiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVSZW1vdmVCdXR0b25DbGljayIsImhhbmRsZUNsaWNrTGlrZXMiLCJfbmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkVGVtcGxhdGUiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZElkIiwiY2FyZElkIiwiX293bmVySWQiLCJvd25lcklkIiwiX3VzZXJJZCIsIl9oYW5kbGVSZW1vdmVCdXR0b25DbGljayIsIl9oYW5kbGVDbGlja0xpa2VzIiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZEltZyIsIl9jYXJkVGl0bGUiLCJfY2FyZFRyYXNoIiwiX2NhcmRMaWtlIiwiX2xpa2VzQ291bnRlciIsImxlbmd0aCIsInNyYyIsImFsdCIsIl91cGRhdGVJbmZvIiwiX3Zpc2libGVUcmFzaCIsIl9zZXRFdmVudExpc3RlbmVyIiwidXNlciIsIl9pZCIsIlNlY3Rpb24iLCJjYXJkc0NvbnRhaW5lciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwiaW5uZXJIVE1MIiwiY2FyZHMiLCJjbGVhciIsIml0ZW0iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJjbG9zZSIsIl9wb3B1cCIsImRvY3VtZW50IiwiX2Nsb3NlZFBvcFVwRXNjIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIlBvcHVwV2l0aEltYWdlIiwiX3N1cGVyIiwicG9wVXBJbWdTZWxlY3RvciIsInBvcFVwVGl0bGVJbWdTZWxlY3RvciIsImNhbGwiLCJfcG9wVXBJbWciLCJfcG9wVXBUaXRsZUltZyIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJQb3B1cFdpdGhGb3JtIiwiY2FsbGJhY2tTdWJtaXRGb3JtIiwiX2NhbGxiYWNrU3VibWl0Rm9ybSIsIl9pbnB1dCIsIl9idG5Gb3JtU3VibWl0IiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInRleHQiLCJfdGhpczMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiaW5mb1NlbGVjdG9yIiwiYXZhdGFySWQiLCJfaW5mbyIsIl9hdmF0YXIiLCJnZXRFbGVtZW50QnlJZCIsImluZm8iLCJhdmF0YXIiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImlkIiwiQXBpIiwib3B0aW9uIiwidXJsIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJfZ2V0UmVzcG9uc2VEYXRhIiwidXNlckRhdGEiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwiZm9ybURhdGEiLCJfdGhpczQiLCJwbGFjZSIsIl90aGlzNSIsIl90aGlzNiIsIl90aGlzNyIsIl90aGlzOCIsIlBvcHVwV2l0aENvbmZpcm0iLCJfZm9ybSIsIl9idG5EZWxldGUiLCJhY3Rpb24iLCJfaGFuZGxlU3VibWl0Q2FsbGJhY2siLCJjb250ZW50IiwicG9wVXBQbGFjZSIsImJ0blBsYWNlQWRkIiwicGxhY2VGb3JtIiwicHJvZmlsZUZvcm0iLCJwcm9maWxlSW5wdXROYW1lIiwicHJvZmlsZUlucHV0SW5mbyIsInByb2ZpbGUiLCJidG5FZGl0QXZhdGFyIiwiYnRuRWRpdFByb2ZpbGUiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiZ2V0U2VydmVyVXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJ1c2VyUHJvZmlsZUluZm8iLCJzZXRVc2VySW5mbyIsInNldFVzZXJBdmF0YXIiLCJjYXJkTGlzdCIsInJlbmRlckl0ZW1zIiwicmV2ZXJzZSIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVDYXJkIiwiY2FyZCIsInBvcHVwSW1hZ2UiLCJvcGVuIiwiZGVsZXRlQ2FyZFBvcHVwIiwic2V0U3VibWl0QWN0aW9uIiwiZGVsZXRlQ2FyZFNlcnZlciIsImRlbGV0ZUNhcmQiLCJkZWxldGVMaWtlU2VydmVyIiwiZGVsZXRlTGlrZSIsImNvdW50TGlrZXMiLCJhZGRMaWtlU2VydmVyIiwiYWRkTGlrZSIsImdlbmVyYXRlQ2FyZCIsInNldEV2ZW50TGlzdGVuZXJzIiwiaXRlbURhdGEiLCJjYXJkRWxlbWVudCIsIm93bmVyIiwiYWRkSXRlbSIsImZvcm1QbGFjZSIsImZvcm1WYWxpZGF0b3JzIiwibG9hZGluZ0J1dHRvblRleHQiLCJhZGRDYXJkU2VydmVyIiwiZm9ybVByb2ZpbGUiLCJlZGl0U2VydmVyUHJvZmlsZSIsImZvcm1VcGRhdGVBdmF0YXIiLCJlZGl0QXZhdGFyIiwicmVzZXRWYWxpZGF0aW9uIiwiZ2V0VXNlckluZm8iLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9